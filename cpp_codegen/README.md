Going to write an independent cpp codegen because there are too many extra features in crustal